(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,s){},28:function(e,t,s){},48:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s.n(a),r=s(21),i=s.n(r),c=(s(27),s(28),s(10),s(3)),l=s(11),o=s(4),h=s(5),d=s(6),m=s(8),j=s(7),u=s(12),g=s.n(u),b=s(22),p=s.n(b),x=s(0),f=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={allWishes:a.props.allWishes},a}return Object(h.a)(s,[{key:"componentDidUpdate",value:function(e,t){e.allWishes!==this.props.allWishes&&this.setState({allWishes:this.props.allWishes})}},{key:"render",value:function(){return Object(x.jsx)(n.a.Fragment,{children:Object(x.jsx)("div",{className:"ml-5 ",children:this.state.allWishes.map((function(e){return Object(x.jsxs)("div",{className:"star-image",children:[e.wish.length>50?Object(x.jsx)("img",{src:"star.png",style:{width:"600px",height:"500px"},alt:"star"}):e.wish.length>30?Object(x.jsx)("img",{src:"star.png",style:{width:"500px",height:"400px"},alt:"atar"}):Object(x.jsx)("img",{src:"star.png",alt:"star"}),Object(x.jsx)("div",{className:"centered",children:Object(x.jsxs)("h3",{children:[e.wish," ",Object(x.jsx)("br",{})," --",e.username]})})]},e.id)}))})})}}]),s}(a.Component),v="http://localhost:5001",O=function(e){Object(m.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).submitPost=function(){a.setState({errorMessage:""}),console.log(a.state.form),g.a.post(v+"/posts",a.state.form).then((function(e){a.getAllWishes()})).catch((function(e){var t=e.response?e.response.data.message:"Not connected to the server";a.setState({errorMessage:t})}))},a.handleSubmit=function(e){e.preventDefault(),a.validator.allValid()?a.submitPost():a.validator.showMessages()},a.handleChange=function(e){var t=e.target.name,s=e.target.value;a.validator.showMessageFor(e.target.name),a.setState({form:Object(l.a)(Object(l.a)({},a.state.form),{},Object(c.a)({},t,s))})},a.state={allWishes:[],form:{username:"",empId:"",wish:""},errorMessage:""},a.validator=new p.a({autoForceUpdate:Object(d.a)(a),validators:{uname:{message:"Not valid Infosys username",rule:function(e,t,s){return s.helpers.testRegex(e,/^[A-z0-9._]+$/i)&&-1===t.indexOf(e)},messageReplace:function(e,t){return e.replace(":values",a.helpers.toSentence(t))},required:!0}}}),a}return Object(h.a)(s,[{key:"getAllWishes",value:function(){var e=this;g.a.get(v+"/posts").then((function(t){console.log(t.data),e.setState({allWishes:t.data})})).catch((function(t){var s=t.response?t.response.data.message:"Not connected to server";e.setState({errorMessage:s,allWishes:[]})}))}},{key:"componentDidMount",value:function(){this.getAllWishes()}},{key:"render",value:function(){return Object(x.jsx)(n.a.Fragment,{children:Object(x.jsx)("div",{className:"main",children:Object(x.jsxs)("div",{className:"container-fluid mlr-5s",children:[Object(x.jsx)("div",{className:"d-flex justify-content-center",children:Object(x.jsxs)("div",{className:"card bg-card bg-transparent my-2",style:{width:"80%"},children:[Object(x.jsxs)("div",{className:"card-body",style:{paddingBottom:"0px"},children:[Object(x.jsxs)("form",{className:"form-inline",onSubmit:this.handleSubmit,children:[Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("center",{children:Object(x.jsx)("input",{className:"form-control ml-1",style:{marginRight:"3vw",width:"20vw"},id:"username",name:"username",placeholder:"Infosys Username",onChange:this.handleChange})})}),Object(x.jsx)("div",{className:"form-group mx-1",children:Object(x.jsx)("center",{children:Object(x.jsx)("textarea",{className:"form-control ml-1",style:{width:"37vw"},id:"wish",name:"wish",placeholder:"Drop in your Wish",rows:"1",onChange:this.handleChange})})}),Object(x.jsx)("button",{type:"submit",className:"btn btn-primary mx-1",name:"postWish",disabled:!this.validator.allValid(),children:"Post Wish"})]}),Object(x.jsx)("span",{name:"errorMessage",className:"text-danger",children:this.state.errorMessage})]}),Object(x.jsxs)("div",{className:"d-flex",children:[Object(x.jsx)("div",{name:"usernameError",className:"ml-4 alignleft text-danger",style:{textAlign:"left"},children:this.validator.message("username",this.state.form.username,"required|uname|max:20")}),Object(x.jsx)("div",{name:"wishError",className:"mr-5 alignright text-danger",style:{textAlign:"left"},children:this.validator.message("wish",this.state.form.wish,"required|max:75")})]})]})}),Object(x.jsx)(f,{allWishes:this.state.allWishes})]})})})}}]),s}(a.Component);var y=function(){return Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsx)("div",{className:"sticky-top",children:Object(x.jsx)("img",{src:"navbar.jpg",className:"sticky",style:{width:"100%",height:"80px"},alt:""})}),Object(x.jsx)(O,{})]})},w=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,49)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),w()}},[[48,1,2]]]);
//# sourceMappingURL=main.762c1ce6.chunk.js.map